<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>scroll</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<script src="../../js/jquery-3.1.1.min.js"></script>
	<script>
		$(function(){
			//※offset()이란 document객체의 좌측 상단 모서리에서부터 요소까지의 좌표를 가지고오거나 지정하는 메드 ↓↓
			var menuPas = $(".nav").offset().top; //top값을 없애줌
			var car1Pos = $("#car1").offset().top;
			var car2Pos = $("#car2").offset().top;
			var topP = $(document).height()/2;
			$(".menuPas").html(parseInt(menuPas));
			scrollYpo();
			$(window).scroll(function(){
				/*//$(window).scrollTop();//스크롤의 위치값
				var scrollY = $(window).scrollTop(); //스크롤의 위치값을 scrollY값에 넣어줌
				$(".scrollY").html(parseInt(scrollY));
				//parseInt 값에서 소수점 안나오게 함
				
				if(scrollY > menuPas){ 
				만약 스크롤의 위치값이 menuPas값보다 크다면
					$(".nav").addClass("fixed");
				}else {
					$(".nav").removeClass("fixed");
				}*/
				scrollYpo(); //밑에 쓴 함수와 같기 때문에 선언만 해줘도 됨
			});
			function scrollYpo(){
				var scrollY = $(window).scrollTop();
				//스크롤의 위치값을 scrollY값에 넣어줌
				$(".scrollY").html(parseInt(scrollY));
				//html = 메소드
				
				if(scrollY > menuPas){ //scrollY 스크롤하는 간격
					//스크롤의 위치값이 menuPas보다 클 때
					$(".nav").addClass("fixed");
				}else {
					$(".nav").removeClass("fixed");
				}
				if(scrollY > car1Pos - 500){
					//스크롤의 위치값이 car1Pos-500의 값보다 클 때
					//scrollY가 변하는 것
					$("#car1").addClass("move");
				}else {
					$("#car1").removeClass("move");
				}
				if(scrollY > car2Pos - 500){
					//스크롤의 위치값이 car2Pox-500의 값보다 클 때
					$("#car2").addClass("move2");
				}else {
					$("#car2").removeClass("move2");
				}
				if(scrollY > topP){
					//스크롤의 위치값이 topP의 값보다 클 때
					$(".top").addClass("rem");
				}else {
					$(".top").removeClass("rem");
				}
			}
			$(".top").click(function(e){ //.top을 클릭하면 이벤트 값
					e.preventDefault();
					//현재 이벤트의 기본 동작을 중단
					//$(window).scrollTop(0);
					$("html,body").animate({scrollTop:0},300);
				});//문서의 가장 상단으로 올가기
		});
	</script>
	<style>
		.viewBox {
			position: fixed;
			width: 200px;
			height: 200px;
			right: 30px;
			top: 30px;
			background-color: pink;
			z-index: 1;
		}
		.nav {
			width: 100%;
		}
		.fixed {
			position: fixed;
			top: 0;
			right: 0;
		}
		.nav li {
			float: left;
			width: 20%;
			height: 40px;
			text-align: center;
			line-height: 40px;
			background-color: skyblue;
		}
		#car1 {
			position: absolute;
			left: 30px;
			width: 120px;
			height: 70px;
			transition: .5s;
			opacity: 0;
		}
		#car1.move {
			left: 300px;
			opacity: 1;
		}
		#car2 {
			position: absolute;
			right: 30px;
			width: 120px;
			height: 70px;
			transition: .5s;
			opacity: 0;
			transform: rotateY(180deg);
		}
		#car2.move2 {
			right: 500px;
			opacity: 1;
		}
		.top {
			position: fixed;
			width: 100px;
			height: 100px;
			line-height: 100px;
			right: 50px;
			bottom: 50px;
			border-radius: 50%;
			background-color: #000;
			color: #fff;
			text-align: center;
			cursor: pointer;
			animation:viewTop 1s infinite alternate;/*이름 시간 반복 방식*/
			opacity: 0;
			transition: .3s;
		}
		@keyframes viewTop {
			from {transform: translateY(-20px);}
			to {transform: translateY(0);}
		}
		.rem {
			opacity: 1;
		}
	</style>
</head>
<body>
	<div class="viewBox">
		스크롤 위치 : <span class="scrollY">0</span><br>
		메뉴 위치 : <span class="menuPas">0</span> <a href="#menu"> 이동</a><br>
	</div>
	<div id="wrapper">
		<p>1</p>
		<p>2</p>
		<p>3</p>
		<p>4</p>
		<p>5</p>
		<p>6</p>
		<p>7</p>
		<p>8</p>
		<p>9</p>
		<p>10</p>
		<p>11</p>
		<p>12</p>
		<p>13</p>
		<p>14</p>
		<p>15</p>
		<p>16</p>
		<p>17</p>
		<p>18</p>
		<p>19</p>
		<p>20</p>
		<p>21</p>
		<p>22</p>
		<p>23</p>
		<p>24</p>
		<p>25</p>
		<p>26</p>
		<p>27</p>
		<p>28</p>
		<p>29</p>
		<p>30</p>
		<p>31</p>
		<p>32</p>
		<p>33</p>
		<p>34</p>
		<p>35</p>
		<p>36</p>
		<p>37</p>
		<p>38</p>
		<p>39</p>
		<p>40</p>
		<p>41</p>
		<p>42</p>
		<p>43</p>
		<p>44</p>
		<p>45</p>
		<p>46</p>
		<p>47</p>
		<p>48</p>
		<p>49</p>
		<div class="nav" id="menu">
			<ul class="cleafix">
				<li>menu1</li>
				<li>menu2</li>
				<li>menu3</li>
				<li>menu4</li>
				<li>menu5</li>
			</ul>
		</div>
		<p>50</p>
		<p>51</p>
		<p>52</p>
		<p>53</p>
		<p>54</p>
		<p>55</p>
		<p>56</p>
		<p>57</p>
		<p>58</p>
		<p>59</p>
		<p>60</p>
		<img src="../../images/car.png" alt="" id="car1">
		<p>61</p>
		<p>62</p>
		<p>63</p>
		<p>64</p>
		<p>65</p>
		<p>66</p>
		<p>67</p>
		<p>68</p>
		<p>69</p>
		<p>70</p>
		<img src="../../images/car.png" alt="" id="car2">
		<p>71</p>
		<p>72</p>
		<p>73</p>
		<p>74</p>
		<p>75</p>
		<p>76</p>
		<p>77</p>
		<p>78</p>
		<p>79</p>
		<p>80</p>
		<p>81</p>
		<p>82</p>
		<p>83</p>
		<p>84</p>
		<p>85</p>
		<p>86</p>
		<p>87</p>
		<p>88</p>
		<p>89</p>
		<p>90</p>
		<p>91</p>
		<p>92</p>
		<p>93</p>
		<p>94</p>
		<p>95</p>
		<p>96</p>
		<p>97</p>
		<p>98</p>
		<p>99</p>
		<p>100</p>
	</div>
	<div class="top">top</div>
</body>
</html>